<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
</head>
<body>

<button type="button" onclick="test()">Send</button>
<h1>json</h1>
<div id="json">
</div>
<h1>response</h1>
<div id="response">
</div>

<script>
/*
Blocage d’une requête multiorigines (Cross-Origin Request) : la politique « Same Origin » ne permet pas 
de consulter la ressource distante située sur http://127.0.0.1:8000/wp-json/wc/v3/products. 
Raison : l’en-tête CORS « Access-Control-Allow-Origin » est manquant. Code d’état : 200.
*/
function test() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("response").innerHTML = this.responseText;
    }
    else {
      document.getElementById("response").innerHTML = "Error code " + this.status;
    }
  };
  xhttp.open("GET", "http://127.0.0.1:8000/wp-json/wc/v3/products", true);
  xhttp.setRequestHeader('Accept', 'application/json');
  xhttp.send();
}
</script>

</body>
</html>
